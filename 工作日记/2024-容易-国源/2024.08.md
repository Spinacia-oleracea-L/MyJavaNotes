# 第一周

## 8.01 周四 阴

### TODO：

1. 研发实验室-环境监控子系统流程测试
2. 邵逸夫-登记管理/信息录入/关闭上次录入信息校验弹窗。

## 8.02 周五 晴

### TODO：

1. 台州项目需求梳理

## 8.03 周六 多云

### TODO：

1. 台州优化项目-登记管理/信息登记/新增样本，采集类型新增默认值，样本数量默认为1

# 第二周

## 8.05 周一 阵雨

### TODO：

1. 台州优化项目-制备管理/样本制备/确认完成-符合时间自动获取当前时间
2. 台州优化项目-存储管理/入库申请单/接收、拒绝操作，自动获取当前时间
3. 杭州妇产科-系统更新

### 问题：

1. 台州线上查看体液添加剂-无添加-已确认
2. 确认一下条码扫描的样本添加剂

## 8.06 周二 多云

### TODO：

1. 邵逸夫-某患者同源样本-入库次数无法修改，老数据问题
2. 台州优化项目-登记管理/信息登记/新增样本&条码扫描，设置默认值
   * 耗材类型-默认'虚拟采集管'
   * 术前/术后-默认'术前'
   * 空腹血——默认'是'
   * 尿液/脑脊液添加剂-默认‘无添加’

## 8.07 周三 多云转阴

### TODO：

1. 台州优化项目测试
1. 待医院下班进行台州项目更新

## 8.08 周四 多云

### TODO：

1. 邵逸夫线上-登录管理/信息登记/病理报告/切缘存储异常
1. 台州优化项目-制备管理/样本制备/批量确认完成

## 8.09 周五 阴

### TODO：

1. 孙村-药谷产业园-搬液氮罐
2. 台州优化项目-制备管理/样本制备/批量确认完成-api文档

## 8.10 周六 晴

### TODO：

1. 台州优化项目-制备管理/样本制备/批量提交
1. 台州优化项目-制备管理/样本制备/批量提交-api文档编写

# 第三周

## 8.12 周一 晴

### TODO：

1. 邵逸夫-登记管理/已接收列表/信息录入/标本号重复问题-并发问题
1. 台州优化项目-存储管理/入库申请单/批量接收

## 8.13 周二 晴

### TODO：

1. 台州线上问题-知情同意书无法获取-老数据问题
1. 开会确认邵逸夫标本号重复问题-并发问题
1. 邵逸夫冰箱引导屏

### 收获：

1. http://10.90.12.198/auth/oauth/token?randomStr=60541723527005113&code=5&grant_type=password
2. http://10.90.12.198/admin/user/info

## 8.14 周三 多云

### TODO：

1. 台州线上问题-校验知情同意书-该病人不存在-找出问题与院内his沟通
2. 台州优化项-批量提交按钮，增加请勿重复提交校验
3. 待医院下班进行台州项目更新

## 8.15 周四 阴

### TODO：

1. 冰箱引导屏-新模块搭建
   * 需要配置nacos
   * 动态路由
   * 部署是需要检查nginx
2. 邵逸夫-登记管理/信息登记/患者入库次数异常
   * 7984881
   * 3367413

### 问题：

1. his信息：

   * 王财法http://20.21.2.61/surgical/hispcase/count/batchNum/440435303723827200

   * 金林军http://20.21.2.61/surgical/hispcase/count/batchNum/635408976938270720

2. 查询sql：

   ```sql
   SELECT id, medical_record_no AS `病历号`, donor_name AS `患者姓名`, cb_num AS `入库次数`, create_time AS `创建时间`, district_id AS `所属院区` FROM bio_donor_info WHERE medical_record_no = 7984881;
   
   SELECT id, pname, blh, create_time FROM surgical_his_pcase_info WHERE donor_id = 440435303723827200;
   
   
   SELECT id, donor_name, cb_num,source_type,  create_time FROM bio_preparat_sample WHERE donor_id = 635408976938270720;
   ```

3. 修改sql：

   ```sql
   SELECT * FROM `bio_donor_info` WHERE `medical_record_no` = 7984881
   
   UPDATE bio_donor_info SET `cb_num` = 3 WHERE `id` = '635408976938270720'
   
   SELECT * FROM `bio_task_info` WHERE `donor_id` = 635408976938270720
   
   UPDATE bio_task_info SET `curr_cb_num` = 2 WHERE `task_item_id` = '876485125506859008'
   ```


## 8.16 周五 多云

### TODO：

1. 引导屏-获取样本库列表
2. 引导屏-通过样本库ID查询容器的信息列表

## 8.17 周六 晴

### TODO：

1. 引导屏-根据入库单查询分装样本

# 第四周

## 8.19 周一 中雨

### TODO：

1. 初始化引导屏模块的实体类

2. 引导屏关闭token请求

3. 杭州妇产科线上问题-信息登记/信息校验/产科病理信息

   ```sql
   select * from surgical_pis_info_obstetrics WHERE donor_id = '66b1d532d5de1c512b92d998'
   
   DELETE FROM surgical_pis_info_obstetrics WHERE id = '877937724194029568'
   ```

   ```bash
   mysql> select * from surgical_pis_info_obstetrics WHERE donor_id = '66b1d532d5de1c512b92d998';
   +--------------------+--------------------------+--------+------+------+------+------+--------+------------+---------+----------+------+---------------------+-----------+---------------------+-----------+
   | id                 | donor_id                 | cb_num | tpdx | zl   | qd   | mtyz | teyzfy | rmfysffhyz | xwsywcj | htjjsfzd | gs   | create_time         | create_by | update_time         | update_by |
   +--------------------+--------------------------+--------+------+------+------+------+--------+------------+---------+----------+------+---------------------+-----------+---------------------+-----------+
   | 877937720192663552 | 66b1d532d5de1c512b92d998 |      1 | NULL | NULL | NULL | NULL | NULL   | NULL       | NULL    | NULL     | NULL | 2024-08-19 15:31:04 | 2451      | 2024-08-19 15:31:04 | 2451      |
   | 877937724194029568 | 66b1d532d5de1c512b92d998 |      1 | NULL | NULL | NULL | NULL | NULL   | NULL       | NULL    | NULL     | NULL | 2024-08-19 15:31:05 | 2451      | 2024-08-19 15:31:05 | 2451      |
   +--------------------+--------------------------+--------+------+------+------+------+--------+------------+---------+----------+------+---------------------+-----------+---------------------+-----------+
   2 rows in set (0.01 sec)
   
   ```

## 8.20 周二 阴

### TODO：

1. 台州登记管理/信息登记/患者拉取不到his信息-两个住院号冲突
   * 样本库住院号：6001005479
   * 院内his住院号：6001005979
2. 引导屏初始化冰箱，记录初始化时间

### 问题：

1. http://172.16.99.81/surgical/apcpatientlist/getpathologybyadn/332621194912101412/6001005479

2. http://172.16.99.81/surgical/apcpatientlist/queryPacsJsonRespBySfzh

   ```json
   {
     "sfzh": "332621194912101412",
     "jclxdm": "2102,2103,2104,2114,2115",
     "zyhm": "6001005479",
     "idOrg": null
   }
   ```

3. http://172.16.80.168:9020/bbx/httpInvoke/service/execute

   ```json
   {
       "patientId":"6001005979",
       "patientUid":"",
       "bllx": "zy"
   }
   
   {
       "code": 1,
       "resultMsg": "操作成功",
       "body": {
           "YQBS": "610d4db624f65b5600f660f5",
           "YYMC": "浙江省台州医院（东院区）",
           "BRKS": "100500",
           "KSMC": "消化内科",
           "ZYHM": "6001005979",
           "BRXM": "张苗森",
           "BRXB": "男",
           "AGE": 75,
           "SFZH": "332621194912101412",
           "CSNY": "1949-12-10 00:00:00",
           "HKDZ": null,
           "MZ": "汉族",
           "LXDZ": null,
           "LXDH": "13777675032",
           "ZY": "退（离）休人员",
           "HY": "已婚",
           "SG": null,
           "TZ": null,
           "BRXX": "A",
           "RYZD": "食管粘膜异型增生",
           "RYRQ": "2022-05-09 14:41:16",
           "ZYCS": 27,
           "PATIENTUID": "80013662",
           "BLLX": "zy",
           "CYZD": "食管粘膜异型增生",
           "CYRQ": "2022-05-18 12:19:00"
       }
   }
   ```


## 8.21 周三 晴

### TODO：

1. 引导屏-样本入库单记录-分页查询-按冰箱、初始化时间、登录人检索
2. 引导屏-根据入库单查询分装样本-按冰箱、初始化时间、登录人检索

## 8.22 周四 晴

### TODO：

1. 邵逸夫线上问题-上传文件时报错

2. 邵逸夫线上问题-donorId=451681693963649024的患者，同源样本批次错误，老数据问题

   > http://20.21.2.61/storage/samplepositionrecord/query/issa/451681693963649024
   >
   > http://20.21.2.61/surgical/hispcase/count/batchNum/451681693963649024

3.  引导屏-入库运输单分页查询，运输单信息及其样本详细信息

## 8.23 周五 晴

### TODO：

1. 引导屏-单个样本入库

## 8.24 周六 晴

### TODO：

1. 邵逸夫系统更新
2. 引导屏-单个样本入库测试

# 第五周

## 8.26 周一 暴雨

### TODO：

1. 添加新的maven配置-guide
   * 需要配置nacos
2. 引导屏单管确认运输-校验运输单内样本是否全部完成
3. 通过冻存架ID获取冻存架每层的信息
4. 通过冻存架ID和冻存架层序号，查询冻存架层中的冻存盒列表信息
5. 通过冻存盒ID，查询冻存盒信息和冻存盒中已存样本信息

### 问题：

1. 运输单确认后，改变冰箱确认状态

## 8.27 周二 小雨

### TODO：

1. 邵逸夫系统更新
2. 引导屏-整盒扫描确认运输-校验是否所有样本都确认完毕，才能修改order状态

## 8.28 周三 多云

### TODO：

1. 邵逸夫系统更新
2. 引导屏-通用接口-获取系统时间
3. 引导屏-统计样本数量，入库运输单统计

## 8.29 周四 晴

### TODO：

1. 样本检索-根据样本底部编码查询样本信息
2. 管理系统/入库运输单/确认运输联动引导屏
   * 确认运输后会截断，冰箱的入库操作
   * 引导屏全部入库后，会将管理系统的确认入库完成

## 8.30 周五 晴

### TODO：

1. 管理系统-确认运输联动引导屏流程测试
1. 月报会议

### 收获：

* 如果在使用 `npm install` 时下载速度很慢，可以尝试以下几种方法来加速安装：

  1. **使用淘宝镜像**：
     淘宝提供了一个 npm 镜像，速度通常比官方源快。可以通过以下命令将 npm 的默认源切换到淘宝镜像：
     ```bash
     npm config set registry https://registry.npmmirror.com
     ```

  2. **使用 cnpm**：
     `cnpm` 是一个淘宝团队开发的 npm 客户端，使用该工具可以更快地安装 npm 包。可以先安装 `cnpm`：
     ```bash
     npm install -g cnpm --registry=https://registry.npmmirror.com
     ```
     然后使用 `cnpm` 替代 `npm`：
     ```bash
     cnpm install
     ```

  3. **使用 Yarn**：
     `Yarn` 是另一个 JavaScript 包管理工具，速度通常较快。可以先安装 `Yarn`：
     ```bash
     npm install -g yarn
     ```
     然后使用 `Yarn` 来安装依赖：
     ```bash
     yarn install
     ```

  4. **清理 npm 缓存**：
     有时 npm 缓存可能会导致问题，可以尝试清理缓存：
     ```bash
     npm cache clean --force
     ```

  5. **网络问题**：
     检查你的网络连接，确保没有防火墙或网络代理在干扰 npm 的请求。

  6. **使用 VPN**：
     如果你的网络环境限制了访问 npm 官方源的速度，可以尝试使用 VPN。

  通过以上方法，通常能够解决 `npm install` 下载速度慢的问题。

## 8.31 周六 晴

### TODO：

1. 整理汇总前4个月的运维文档
